class MetingJSElement extends HTMLElement { _audio = [{ name: "Flower Dance", artist: "Oturans - DJ Okawari", title: "Flower Dance", url: "https://cdn.dearxuan.com/music/Flower Dance.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Flower Dance.jpg" }, { name: "夜的钢琴曲", artist: "K. Williams", title: "夜的钢琴曲", url: "https://cdn.dearxuan.com/music/夜的钢琴曲.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/夜的钢琴曲.jpg" }, { name: "梦中的婚礼", artist: "Richard Clayderman", title: "梦中的婚礼", url: "https://cdn.dearxuan.com/music/梦中的婚礼.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/梦中的婚礼.jpg" }, { name: "Snowdreams", artist: "航氏钢琴曲", title: "Snowdreams", url: "https://cdn.dearxuan.com/music/Snowdreams.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Snowdreams.jpg" }, { name: "Songs From A Secret Garden", artist: "宋迪", title: "Songs From A Secret Garden", url: "https://cdn.dearxuan.com/music/Songs From A Secret Garden.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Songs From A Secret Garden.jpg" }, { name: "Here We Are Again", artist: "CAGNET、日向大介", title: "Here We Are Again", url: "https://cdn.dearxuan.com/music/Here We Are Again.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Here We Are Again.jpg" }, { name: "The Sound Of Silence", artist: "Various Artists", title: "The Sound Of Silence", url: "https://cdn.dearxuan.com/music/The Sound Of Silence.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/The Sound Of Silence.jpg" }, { name: "The Right Path", artist: "Thomas Greenberg", title: "The Right Path", url: "https://cdn.dearxuan.com/music/The Right Path.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/The Right Path.jpg" }, { name: "Journey", artist: "Capo Productions", title: "Journey", url: "https://cdn.dearxuan.com/music/Journey.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Journey.jpg" }, { name: "Canon", artist: "Dylanf", title: "Canon", url: "https://cdn.dearxuan.com/music/Canon.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Canon.jpg" }, { name: "秋日的私语", artist: "Richard Clayderman", title: "秋日的私语", url: "https://cdn.dearxuan.com/music/秋日的私语.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/秋日的私语.jpg" }, { name: "Illusionary Daytime", artist: "Shirfine", title: "Illusionary Daytime", url: "https://cdn.dearxuan.com/music/Illusionary Daytime.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Illusionary Daytime.jpg" }, { name: "Sakura Tears", artist: "Snigellin", title: "Sakura Tears", url: "https://cdn.dearxuan.com/music/Sakura Tears.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Sakura Tears.jpg" }, { name: "You", artist: "Approaching Nirvana", title: "You", url: "https://cdn.dearxuan.com/music/You.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/You.jpg" }, { name: "Last Reunion", artist: "Peter Roe", title: "Last Reunion", url: "https://cdn.dearxuan.com/music/Last Reunion.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/Last Reunion.jpg" }, { name: "夜,萤火虫和你", artist: "AniFace", title: "夜,萤火虫和你", url: "https://cdn.dearxuan.com/music/夜,萤火虫和你.mp3", lrc: "https://cdn.dearxuan.com/music/all.lrc", cover: "https://cdn.dearxuan.com/music/夜,萤火虫和你.jpg" }]; connectedCallback() { window.APlayer && window.fetch && (this._init(), this._loadPlayer(this._audio)) } disconnectedCallback() { this.lock || this.aplayer.destroy() } _camelize(e) { return e.replace(/^[_.\- ]+/, "").toLowerCase().replace(/[_.\- ]+(\w|$)/g, (e, t) => t.toUpperCase()) } _init() { var t = {}; for (let e = 0; e < this.attributes.length; e += 1)t[this._camelize(this.attributes[e].name)] = this.attributes[e].value; var e; this.meta = {}; for (e of ["server", "type", "id", "api", "auth", "auto", "lock", "name", "title", "artist", "author", "url", "cover", "pic", "lyric", "lrc", "audio"]) this.meta[e] = t[e], delete t[e]; this.config = t } _loadPlayer(e) { var t = { audio: e, mutex: !0, lrcType: this.meta.lrcType || 3, storageName: "metingjs" }; if (e.length) { var a, c = { ...t, ...this.config }; for (a in c) "true" !== c[a] && "false" !== c[a] || (c[a] = "true" === c[a]); e = document.createElement("div"); this.appendChild(c.container = e), this.aplayer = new APlayer(c) } } } window.customElements && !window.customElements.get("meting-js") && (window.MetingJSElement = MetingJSElement, window.customElements.define("meting-js", MetingJSElement));